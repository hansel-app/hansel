syntax = "proto3";
package gemsapi;
option go_package = "/gemsapi";

import "google/protobuf/timestamp.proto";

service GemService {
  rpc Drop (DropRequest) returns (DropResponse);
  rpc Get (GetRequest) returns (GetResponse);
  rpc GetPendingCollectionByUser (GetPendingCollectionByUserRequest) returns (GetPendingCollectionByUserResponse);
  rpc SayHello (SayHelloRequest) returns (SayHelloResponse);
  // TODO: Replace placeholder methods.
}

message Gem {
  int64 id = 1;
  string message = 2;
  double latitude = 3;
  double longitude = 4;
  int64 creator_id = 5;
  int64 receiver_id = 7;
  google.protobuf.Timestamp created_at = 6;
  google.protobuf.Timestamp received_at = 8;
  enum Colour {
    PURPLE = 0;
    PINK = 1;
    BLUE = 2;
    BLACK = 3;
    YELLOW = 4;
    GREEN = 5;
  }
  Colour colour = 8;
  bytes image = 9;
}

message DropRequest {
  string message = 1;
}

message DropResponse {
  int64 id = 1;
  string message = 2;
}

message GetRequest {
  int64 gem_id = 1;
  int64 receiver_id = 2;
}

message GetResponse {
  Gem gem = 1;
}

message GetPendingCollectionByUserRequest {
  int64 userId = 1;
}

message GetPendingCollectionByUserResponse {
  repeated Gem gems = 1;
}

message SayHelloRequest {
  string name = 1;
}

message SayHelloResponse {
  string message = 1;
}
